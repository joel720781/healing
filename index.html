<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8">
    <title>ç™‚ç™’ç±¤èª</title>
    <style>
        body {
           margin: 0;
            height: 100vh;
             display: flex;
            flex-direction: column;
            justify-content: center;
           align-items: center;
           background-size: cover;
           background-position: center;
          background-repeat: no-repeat;
         font-family: "Arial", sans-serif;
          overflow: hidden;
            padding: 0;
             text-align: center;
        }

        .bg-selector {
          margin-bottom: 20px;
            display: flex;
              flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
        }

        .bg-thumb {
          width: 80px;
          height: auto;
          object-fit: cover;
          margin: 5px;
          border: 3px solid transparent;
          border-radius: 8px;
          cursor: pointer;
            transition: transform 0.3s;
        }

        .bg-thumb:hover {
          border-color: #ffaa88;
            transform: scale(1.05);
        }

        #fortune {
           font-size: 1.5em;
             background: rgba(255, 255, 255, 0.8);
              padding: 20px 30px;
              border-radius: 15px;
             margin-bottom: 20px;
             text-align: center;
        }

        button {
          margin-top: 10px;
          padding: 10px 16px;
          font-size: 1em;
          border: none;
          border-radius: 8px;
          background-color: rgba(255,255,255,0.8);
          cursor: pointer;
        }

        button:hover {
          background-color: #ffffffcc;
        }
        #contentWrapper {
            position: absolute;
             top: 40%;
             left: 50%;
            transform: translate(-50%, -50%);
             text-align: center;
             z-index:1;
        }
        #bgSelector {
          position: relative;
          z-index: 2;
         margin-top: 300px;
         text-align: center;
}
        @media (max-width: 600px) {
    .bg-thumb {
        width: 60px;
    }
            button {
        font-size: 0.9em;
        padding: 8px 12px;
    }
             #fortune {
        font-size: 1.1em;
        padding: 10px;
        margin: 10px;
    }
        }
.popup {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(255, 255, 255, 0.95);
  padding: 30px;
  border-radius: 15px;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
  z-index: 999;
  max-width: 80%;
  max-height: 60%;
  overflow-y: auto;
  text-align: left;
}
.popup h2 {
  margin-top: 0;
  font-size: 1.4em;
  text-align: center;
}
.popup ul {
  list-style: none;
  padding: 0;
}
.popup li {
  margin: 10px 0;
  border-bottom: 1px dashed #aaa;
  padding-bottom: 5px;
}
.popup button {
  margin-top: 20px;
  padding: 8px 16px;
  border-radius: 8px;
  border: none;
  background-color: #f0f0f0;
  cursor: pointer;
}
.overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    backdrop-filter: blur(5px);
    background: rgba(0, 0, 0, 0.2);
    z-index: 1;
}
#popup {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(255, 255, 255, 0.95);
  padding: 30px 40px;
  border-radius: 15px;
  z-index: 100;
  box-shadow: 0 0 25px rgba(0,0,0,0.25);
  max-width: 90%;
  max-height: 70%;
  overflow-y: auto;
  text-align: center;
}


.blur #fortune {
  opacity: 0;
}
.blur #contentWrapper button {
  display: none;
}




    </style>
</head>
<body onload="setRandomBackground()">
<div id="overlay" class="overlay" style="display: none;"></div>
<div id="blurWrapper">
<div id="appContent">

<div id="contentWrapper">
    <div id="fortune">æº–å‚™å¥½äº†å—?å…ˆæ·±å‘¼å¸ä¸‰æ¬¡ï¼Œå¿ƒä¸­æƒ³è‘—ä»Šå¤©å®‡å®™æœ‰ä»€éº¼è©±æƒ³è·Ÿæˆ‘èªªï¼Œä¸¦æŒ‰ä¸‹æ¥æ”¶ã€‚ ğŸŒŸ</div>
    <button onclick="drawFortune()">æ¥æ”¶ âœ¨</button>
    <button onclick="setRandomBackground()">åˆ‡æ›èƒŒæ™¯ ğŸŒˆ</button>
    <button onclick="showHistory()">ğŸ“– æˆ‘çš„å®‡å®™å›éŸ³</button>


<div id="bgSelector" class="bg-selector" style="display: none;">
    <p>è«‹é¸æ“‡èƒŒæ™¯åœ–ï¼š</p>
    <img src="images/bg1.png" class="bg-thumb" onclick="changeBackground('images/bg1.png')">
    <img src="images/bg2.png" class="bg-thumb" onclick="changeBackground('images/bg2.png')">
    <img src="images/bg3.png" class="bg-thumb" onclick="changeBackground('images/bg3.png')">
    <img src="images/bg4.png" class="bg-thumb" onclick="changeBackground('images/bg4.png')">
    <img src="images/bg5.png" class="bg-thumb" onclick="changeBackground('images/bg5.png')">
</div>
</div>
</div>
</div>
<div id="popup" class="popup" style="display: none;">
    <h2>ğŸ’« æˆ‘çš„å®‡å®™å›éŸ³</h2>
    <ul id="historyList"></ul>
    <button onclick="closePopup()">é—œé–‰</button>
</div>
<script>
    const backgrounds = [
   'images/bg1.png',
   'images/bg2.png',
   'images/bg3.png',
   'images/bg4.png',
   'images/bg5.png'
 ];
 function drawFortune() {
         const today = new Date().toLocaleDateString();
    const lastDrawDate = localStorage.getItem("lastDrawDate");

    if (lastDrawDate === today) {
        alert("ä»Šå¤©å·²ç¶“æŠ½éå›‰ï½æ˜å¤©å†ä¾† ğŸŒŸ");
        return;
    }
   const fortunes = [
     "ä½ æ²’æœ‰èµ°å¾—å¤ªæ…¢ï¼Œåªæ˜¯åœ¨å¥½å¥½æ„Ÿå—é¢¨æ™¯ã€‚",
     "ä»Šå¤©çš„ä½ ï¼Œå¾ˆåŠªåŠ›äº†ï¼Œè©²ä¼‘æ¯ä¸€ä¸‹äº†ã€‚",
     "å³ä½¿æ²’æœ‰äººèªªï¼Œä½ ä¹Ÿåšå¾—å¾ˆå¥½ã€‚",
     "ä½ ä¸éœ€è¦å®Œç¾ï¼Œåªè¦å­˜åœ¨å°±è¶³å¤ ç¾å¥½ã€‚",
     "ä¸–ç•Œæœ‰é»åµï¼Œä½†ä½ å¯ä»¥é¸æ“‡éœä¸‹ä¾†ã€‚",
     "å‚·å£æœƒç™’åˆï¼Œå°±åƒå¤ªé™½ç¸½æœƒå‡èµ·ã€‚",
     "å¿ƒè»Ÿä¸æ˜¯ç¼ºé»ï¼Œæ˜¯ä½ å¿ƒè£¡æœ‰æº«æŸ”çš„æ°´æºã€‚",
     "ç•¶ä½ å­¸æœƒæº«æŸ”å°å¾…è‡ªå·±ï¼Œå®‡å®™ä¹Ÿæœƒæº«æŸ”å°ä½ ã€‚",
     "åˆ¥æ€¥ï¼Œä¸€åˆ‡éƒ½æœƒåœ¨å‰›å‰›å¥½çš„æ™‚é–“åˆ°ä¾†ã€‚",
     "æ¥å—ä»»ä½•æ”¹è®Šï¼Œè®“è‡ªå·±è®Šå¾—æ›´å¥½ã€‚",
     "æŒçºŒåŠªåŠ›ï¼Œäº‹æƒ…æœƒæœ‰æ–¹å‘ï¼Œæœƒè¶Šä¾†è¶Šå¥½ã€‚",
     "ç¾åœ¨çš„ä½ æ˜¯è™•æ–¼æœ€ä½³ç‹€æ…‹ï¼Œå‹‡æ•¢å»å†’éšªå§!",
     "æ”¹è®Šé›–é›£ï¼Œå‹¿ç•æ‡¼ï¼Œé€™æ˜¯ç‚ºäº†æ›´å¥½çš„äººç”Ÿã€‚",
     "å›°å¢ƒé™åˆ¶ä½ ï¼Œçµ¦è‡ªå·±åŠ›é‡ï¼Œå‘å‰èµ°ä¾¿èƒ½çªç ´ã€‚",
     "ç¾åœ¨ä¸å®œè¡å‹•ï¼Œå…ˆæº–å‚™å¥½å†ç­‰æ™‚æ©Ÿã€‚",
     "äº«å—éå»åŠªåŠ›ï¼Œå¦¥å–„è¦åŠƒæœªä¾†æ–°é–‹å§‹ã€‚",
     "è§£æ±ºæœªäº†çš„äº‹ï¼Œåˆ¥æ´»åœ¨éå»ã€‚",
     "ç¾åœ¨æ˜¯æœ€ä½³æ”¹è®Šæ™‚æ©Ÿï¼Œç­‰å¾…å°‡ç„¡æ³•å¸¶ä¾†è®ŠåŒ–ã€‚",
     "é‡ä¸é©äº‹æƒ…ï¼Œé›¢é–‹å³å¯ï¼Œç„¡éœ€ç¡¬ç¢°ç¡¬ã€‚",
     "å°‡å€‹äººåˆ©ç›Šç½®æ–¼æœ€å¾Œï¼Œä»»ä½•ç›®æ¨™éƒ½éœ€ä»˜å‡ºä»£åƒ¹ã€‚",
     "ä»˜å‡ºèˆ‡å›å ±è¦å¹³è¡¡ï¼Œå‹¿ç›²ç›®ä»˜å‡ºæˆ–éåº¦æ¥å—ã€‚",
     "è‹¥èƒ½æŠŠæ¡æ©Ÿæœƒï¼Œä»»ä½•æŒ«æŠ˜éƒ½å°‡è½‰åŒ–ç‚ºä½ çš„æ­¦å™¨ã€‚",
     "ç†æ€§æ„Ÿæ€§æ‹‰æ‰¯ä¸­ï¼Œçµ±æ•´å¾Œéš¨ç›´è¦ºè€Œè¡Œã€‚",
     "æ–°çš„é–‹å§‹å°‡æ¿€ç™¼ä½ çš„æ½›èƒ½ï¼Œä½†åˆ¥å¿˜äº†å¥½å¥½ä¼‘æ¯ã€‚",
     "è€å¿ƒé»ï¼Œçµ¦å¥½é‹ä¸€é»æ™‚é–“ã€‚",
     "è¿‘æœŸå¯èƒ½è¿ä¾†é‡å¤§çªç ´ï¼Œæ¥å—æ”¹è®Šï¼Œä¸è¦æŠ—æ‹’ã€‚",
     "ç›¸ä¿¡ç›´è¦ºï¼Œé‡è¦–éç¨‹ï¼Œå®šèƒ½é”åˆ°ç›®æ¨™ã€‚",
     "å¤šèµ°èµ°å……å¯¦å¿ƒéˆï¼Œæ©Ÿæœƒæ­£é€æ¼¸é è¿‘ã€‚",
     "ä½ æ˜¯æ“æœ‰èƒ½åŠ›é¢å°ä»»ä½•äº‹æƒ…çš„ï¼Œä¸ç”¨å®³æ€•ç›¸ä¿¡è‡ªå·±ã€‚",
     "æƒ³åšç”šéº¼äº‹æƒ…å°±å»åšï¼Œä¸è¦å®³æ€•çŠ¯éŒ¯ã€‚",
     "ä½ å…§å¿ƒæ˜¯å¾ˆå¼·å¤§çš„ï¼Œæ²’æœ‰ç”šéº¼äº‹æœƒè®“ä½ åˆ°å®³æ€•ã€‚",
     "åˆ¶å®šç›®æ¨™è·Ÿè‘—æ„Ÿè¦ºèµ°ï¼Œä¸èƒ½è¡å‹•éš¨æ™‚ä¿æŒè­¦è¦ºã€‚",
     "åªè¦å¾€å‰èµ°çµ•å°æœ‰è§£æ±ºçš„æ–¹æ³•ï¼Œåœåœ¨åŸåœ°æ˜¯æ²’æœ‰å¹«åŠ©çš„ã€‚",
     "åªè¦åŠªåŠ›å»åšå®‡å®™è‡ªç„¶æœƒå¹«åŠ©ä½ ã€‚",
     "å¹«åŠ©ä»–äººä¹Ÿæ¥å—åˆ¥äººçš„å¹«åŠ©ï¼Œäººæ˜¯éœ€è¦äº’ç›¸ä¾é çš„ã€‚",
     "ä¿æŒé–‹æ”¾å¿ƒæ…‹ï¼Œç›¸ä¿¡è‡ªå·±ï¼Œå¾ˆå¤šäº‹æƒ…éƒ½æœƒä¸Šè»Œé“ã€‚",
     "éå»ä»˜å‡ºçš„åŠªåŠ›å°‡æœƒæœ‰çµæœã€‚",
     "ä¸–ç•Œä¸è®Šçš„é“ç†å°±æ˜¯ä¸€åˆ‡éƒ½åœ¨è®Šï¼Œæ¥å—æ”¹è®Šï¼Œäº«å—éç¨‹ã€‚"
   ];
const result = fortunes[Math.floor(Math.random() * fortunes.length)];
    document.getElementById("fortune").innerText = result;

    localStorage.setItem("lastDrawDate", today);
    saveFortune(result);
   }
 function setRandomBackground() {
    const randomIndex = Math.floor(Math.random() * backgrounds.length);
    document.body.style.backgroundImage = `url('${backgrounds[randomIndex]}')`;
    document.body.style.backgroundSize = 'cover';
    document.body.style.backgroundPosition = 'center';
    document.body.style.backgroundRepeat = 'no-repeat';
  }


   function changeBackground(imagePath) {
     document.body.style.backgroundImage = `url('${imagePath}')`;
   }
   function toggleBackgrounds() {
 const bgDiv = document.getElementById("bgSelector");
 bgDiv.style.display = (bgDiv.style.display === "none") ? "block" : "none";
}
    function saveFortune(fortune) {
    let history = JSON.parse(localStorage.getItem("fortuneHistory")) || [];
    if (!history.includes(fortune)) {
        history.push(fortune);
        localStorage.setItem("fortuneHistory", JSON.stringify(history));
    }
}


function showHistory() {
    let history = JSON.parse(localStorage.getItem("fortuneHistory")) || [];
    let list = document.getElementById("historyList");
    list.innerHTML = ""; // æ¸…ç©ºä¹‹å‰çš„å…§å®¹
    if (history.length === 0) {
        list.innerHTML = "<li>ä½ é‚„æ²’æœ‰æ”¶è—ç±¤èªï¼Œå¿«å»æŠ½ä¸€å¼µå§ï¼</li>";
    } else {
        history.forEach(f => {
            let li = document.createElement("li");
            li.textContent = f;
            list.appendChild(li);
        });
    }

    document.getElementById("popup").style.display = "block";
   document.body.classList.add("blur");
}

function closePopup() {
    document.getElementById("popup").style.display = "none";
     document.body.classList.remove("blur");

}

</script>
</body>
</html>
